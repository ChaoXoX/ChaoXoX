---
title: "Agent 基础"
date: 2025-01-05
tags: [Agent, Tools]
---

# Agent 基础

## 核心组件
- 感知：解析输入、抽取意图与约束。
- 规划：生成计划或 DAG；必要时加入回退路径。
- 工具：REST API、数据库、搜索、向量检索、代码执行。
- 记忆：短期（上下文窗口、摘要）、长期（向量库、KV）。
- 反思：基于结果与约束的自检，必要时重试或求助人工。

## 最小可用循环
1. 解析任务 → 选择或生成计划
2. 工具调用 → 收集结果
3. 自检与总结 → 输出

## 提示模板建议
- 明确角色与目标（含安全边界）。
- 列出可用工具、参数示例与失败重试策略。
- 指定输出结构（JSON / Markdown），便于后处理。

## 常见陷阱
- 工具调用不幂等：在提示里要求幂等或提供模拟模式。
- 上下文爆炸：强制使用检索与摘要，限制逐轮 tokens。
- 幻觉：要求引用来源；对未找到结果的情况给出显式占位。
